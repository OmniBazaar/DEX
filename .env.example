# DEX Module Environment Configuration
# Copy this file to .env and update with your values

# Node Environment
NODE_ENV=development

# Server Configuration
PORT=3000
WS_PORT=8080
CORS_ORIGIN=*

# Storage Configuration - Hybrid Architecture
# ==========================================

# Hot Tier - Redis (Optional - will use in-memory if not available)
REDIS_HOST=localhost
REDIS_PORT=6379
# REDIS_PASSWORD=your_redis_password
REDIS_DB=0

# Warm Tier - YugabyteDB/PostgreSQL (Optional but recommended)
USE_YUGABYTE=true
# For YugabyteDB:
DB_HOST=127.0.1.1
DB_PORT=5433
DB_NAME=omnibazaar
DB_USER=omnibazaar_dev
DB_PASSWORD=dev_password_2025
# Alternative PostgreSQL:
# POSTGRES_HOST=localhost
# POSTGRES_PORT=5432
# POSTGRES_DB=omnibazaar_dex
# POSTGRES_USER=dex_user
# POSTGRES_PASSWORD=dex_password

# Cold Tier - IPFS (Optional - for archival)
IPFS_HOST=localhost
IPFS_API_PORT=5001
IPFS_PROTOCOL=http
IPFS_SWARM_PORT=4001
IPFS_GATEWAY_PORT=8080

# Archival Settings
ARCHIVAL_THRESHOLD_DAYS=7
ARCHIVAL_BATCH_SIZE=100

# Validator Integration
VALIDATOR_URL=http://localhost:3000
VALIDATOR_WS_URL=ws://localhost:3001
# VALIDATOR_API_KEY=your_api_key

# OmniCoin Network
OMNICOIN_NETWORK_ID=omnibazaar-mainnet
OMNICOIN_RPC_URL=https://rpc.omnicoin.network
OMNICOIN_CHAIN_ID=1

# DEX Configuration
TRADING_PAIRS=XOM/USDC,XOM/ETH,XOM/BTC
SPOT_MAKER_FEE=0.001
SPOT_TAKER_FEE=0.002
PERP_MAKER_FEE=0.0005
PERP_TAKER_FEE=0.0015
AUTO_CONVERSION_FEE=0.003
MAX_LEVERAGE=100
LIQUIDATION_THRESHOLD=0.8

# Fee Distribution (must sum to 1.0)
VALIDATOR_FEE_SHARE=0.70
COMPANY_FEE_SHARE=0.20
DEVELOPMENT_FEE_SHARE=0.10
FEE_DISTRIBUTION_INTERVAL=3600

# Security
JWT_SECRET=dev-secret-change-in-production
ENCRYPTION_KEY=dev-encryption-key-change-in-production
RATE_LIMIT_WINDOW=900000
RATE_LIMIT_MAX=1000

# OmniBazaar Integration
WALLET_API_URL=http://localhost:3001
MARKETPLACE_API_URL=http://localhost:3002
STORAGE_API_URL=http://localhost:3003
KYC_SERVICE_URL=http://localhost:3004

# Logging
LOG_LEVEL=info
LOG_FORMAT=json

# Performance Tuning
POSTGRES_POOL_SIZE=20
HEARTBEAT_INTERVAL=30
PARTICIPATION_THRESHOLD=75.0

# Hardware Requirements (for validators)
VALIDATOR_CORES=4
VALIDATOR_MEMORY=8
VALIDATOR_STORAGE=100
VALIDATOR_BANDWIDTH=50